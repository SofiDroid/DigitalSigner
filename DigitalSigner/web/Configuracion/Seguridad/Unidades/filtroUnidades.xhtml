<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:sd="http://xmlns.jcp.org/jsf/composite/sofidroid">

    <ui:composition template="/main.xhtml">
        <ui:define id="tmpPrincipal" name="tmpPrincipal">
            <p:card styleClass="card">
                <p:toolbar>
                    <p:toolbarGroup align="left">
                        <p:outputLabel value="Mantenimiento de Unidades" style="font-size: large; font-weight: bold" /> 
                    </p:toolbarGroup>
                    <p:toolbarGroup align="right">

                        <p:commandButton id="btnBuscar" icon="pi pi-search" styleClass="rounded-button ui-button-info" 
                                         style="height: 2rem;width: 2rem;margin-left:0.3rem" action="#{filtroUnidades.buscar}" title="(alt+B) Buscar resultados"
                                         update="panelResultado,mensaje" accesskey="b" />

                        <p:commandButton id="btnLimpiar" icon="pi pi-filter-slash" styleClass="rounded-button ui-button-secondary" 
                                         style="height: 2rem;width: 2rem;margin-left:0.3rem" action="#{filtroUnidades.limpiar}" title="(alt+L) Limpiar formulario"
                                         update="fsFiltros,panelResultado,mensaje" accesskey="l" />

                        <p:commandButton id="btnNuevo" icon="pi pi-plus-circle" styleClass="rounded-button ui-button-success" 
                                         style="height: 2rem;width: 2rem;margin-left:0.3rem" action="#{filtroUnidades.nuevo}" title="(alt+B) Buscar resultados"
                                         update="panelResultado,mensaje" accesskey="b" />

                    </p:toolbarGroup>
                </p:toolbar>
            </p:card>
            <p:card styleClass="card">
                <p:fieldset id="fsFiltros" legend="#{msg['filtros']}" toggleable="false" >
                    <p:panelGrid columns="2"
                     columnClasses="col-7,col-5"
                     layout="grid"
                     styleClass="ui-panelgrid-blank ui-fluid"
                     style="border:0px none; background-color:transparent;">

                        <sd:campoWebTexto id="txtCodigoUnidad" beanClass="#{filtroUnidades.getcCoUnidad()}" />

                        <sd:campoWebFechaRango id="txtFeAlta" beanClass="#{filtroUnidades.getcFeAlta()}" />

                        <sd:campoWebTexto id="txtDescripcionUnidad" beanClass="#{filtroUnidades.getcDsUnidad()}" />

                        <sd:campoWebFechaRango id="txtFeDesactivo" beanClass="#{filtroUnidades.getcFeDesactivo()}" />

                    </p:panelGrid>
                </p:fieldset>
            </p:card>
            <p:card id="panelResultado" styleClass="card">
                <sd:dataGrid id="tblResultados" dataSet="#{filtroUnidades.dsResultado}" height="calc(100vh - 20.5rem)" />
            </p:card>
        </ui:define>
    </ui:composition>
</html>
