<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:sd="http://xmlns.jcp.org/jsf/composite/sofidroid">

    <ui:composition template="/main.xhtml">
        <ui:define id="tmpPrincipal" name="tmpPrincipal">
            <p:focus context="filtroCard" />
            <p:card id="filtroCard" styleClass="card">
                <p:toolbar>
                    <p:toolbarGroup align="left">
                        <p:outputLabel value="Consulta de documentos - #{menu.permisos.leyenda}" style="font-size: large; font-weight: bold" /> 
                    </p:toolbarGroup>
                    <p:toolbarGroup align="right">

                        <p:commandButton id="btnBuscar" icon="pi pi-search" styleClass="rounded-button ui-button-info" 
                                         style="height: 2rem;width: 2rem;margin-left:0.3rem" action="#{filtroConsultaDocumentos.buscar}" title="(alt+B) Buscar resultados"
                                         rendered="#{menu.permisos.boConsulta}"
                                         update="panelResultado,mensaje" accesskey="b" />

                        <p:commandButton id="btnLimpiar" icon="pi pi-filter-slash" styleClass="rounded-button ui-button-secondary" 
                                         style="height: 2rem;width: 2rem;margin-left:0.3rem" action="#{filtroConsultaDocumentos.limpiar}" title="(alt+L) Limpiar formulario"
                                         rendered="#{menu.permisos.boConsulta}"
                                         update="fsFiltros,panelResultado,mensaje" accesskey="l" />

                        <p:commandButton id="btnNuevo" icon="pi pi-plus-circle" styleClass="rounded-button ui-button-success" 
                                         style="height: 2rem;width: 2rem;margin-left:0.3rem" action="#{filtroConsultaDocumentos.nuevo}" title="(alt+N) Nuevo"
                                         rendered="#{menu.permisos.boAlta}"
                                         update="panelResultado,mensaje" accesskey="n" />

                    </p:toolbarGroup>
                </p:toolbar>
            </p:card>
            <p:card styleClass="card">
                <p:fieldset id="fsFiltros" legend="#{msg['filtros']}" collapsed="#{!filtroConsultaDocumentos.filtroVisible}" toggleable="true">
                    <p:panelGrid columns="2"
                     columnClasses="col-6,col-6"
                     layout="grid"
                     styleClass="ui-panelgrid-blank ui-fluid"
                     style="border:0px none; background-color:transparent;">

                        <sd:campoWebTexto id="txtCodigo" label="#{msg['lbl_FiltroConsultaDocumentos_CoDocumento']}" beanClass="#{filtroConsultaDocumentos.getcCoDocumento()}" />

                        <sd:campoWebFechaRango id="txtFeAlta" label="#{msg['lbl_FiltroConsultaDocumentos_FeAlta']}" beanClass="#{filtroConsultaDocumentos.getcFeAlta()}" />

                        <sd:campoWebTexto id="txtDescripcion" label="#{msg['lbl_FiltroConsultaDocumentos_DsDocumento']}" beanClass="#{filtroConsultaDocumentos.getcDsDocumento()}" />

                        <sd:campoWebFechaRango id="txtFeDesactivo" label="#{msg['lbl_FiltroConsultaDocumentos_FeDesactivo']}" beanClass="#{filtroConsultaDocumentos.getcFeDesactivo()}" />

                        <sd:campoWebLupa id="txtTipoDocumento" label="#{msg['lbl_FiltroConsultaDocumentos_TipoDocumento']}" beanClass="#{filtroConsultaDocumentos.getcTipodocumento()}" />
                        
                        <sd:campoWebLupa id="txtSituacionDoc" label="#{msg['lbl_FiltroConsultaDocumentos_SituacionDoc']}" beanClass="#{filtroConsultaDocumentos.getcSituaciondoc()}" />
                        
                    </p:panelGrid>
                    <p:panelGrid columns="1"
                     columnClasses="col-12"
                     layout="grid"
                     styleClass="ui-panelgrid-blank ui-fluid"
                     style="border:0px none; background-color:transparent;">

                        <sd:campoWebLupa id="txtAutoridad" label="#{msg['lbl_FiltroConsultaDocumentos_Autoridad']}" beanClass="#{filtroConsultaDocumentos.getcAutoridad()}" />
                        
                    </p:panelGrid>
                </p:fieldset>
            </p:card>
            <p:card id="panelResultado" styleClass="card">
                <sd:dataGrid id="tblResultados" dataSet="#{filtroConsultaDocumentos.dsResultado}" />
            </p:card>
            <sd:visorMedia id="visorDocumentos" beanClass="#{filtroConsultaDocumentos.visorDocumentos}" />
        </ui:define>
    </ui:composition>
</html>
